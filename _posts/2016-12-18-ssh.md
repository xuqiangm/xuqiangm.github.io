---
title: SSH原理
date: 2016-12-18
categories: Linux
---

最近在配置Git的时候，使用到了SSH，趁着这个机会，把SSH的原理了解一下。

> [1. 简介](#anchor1)  
> [2. 所要解决的问题](#anchor2)  
> [3. 验证用户的方式](#anchor3)  

<a name="anchor1"></a>
## 1. 简介
Secure Shell（缩写为SSh），为一项创建在应用层和传输层基础上的安全协议，为计算机上的Shell提供安全的传输和使用环境。

<a name="anchor2"></a>
## 2. 所要解决的问题
传统的网络服务程序，如rsh、FTP、POP和Telnet其本质上都是不安全的；因为它们在网络上用明文传送数据、用户账号和用户口令，很容易受到中间人（man-in-the-middle）攻击方式的攻击。
> 中间人攻击：存在另一个人或者机器冒充真正的服务器接收用户传给服务器的数据，然后再冒充用户把数据传给真正的服务器。

而SSh是目前较可靠，专为远程登录会话和其他网络服务提供安全性的协议，利用SSH协议可以有效防止远程管理过程中的信息泄露问题。并且，其传输的数据可以是经过压缩的，所以可以加快传输的速度。

<a name="anchor3"></a>
## 3. 验证用户的方式
SSH使用非对称加密来验证用户，主要有两种使用方式：

- 自动产生公/私钥对来简单加密网络传输，使用密码验证来登录。但是，可能会有别的服务器在冒充真正的服务器，无法避免被“中间人”攻击。
- 手动产生公/私钥对来进行验证，允许用户名或应用程序不指定密码登录，在这种情况下，任何人都能产生公/私钥对，客户、服务器双方的公钥让对方计算机能够获取，私钥自己保存。验证是基于私钥的，私钥在验证过程中绝对不在网络上传输。SSH只需验证提供公钥的人是否与拥有私钥的人是同一个人就行了。具体的。设备上利用算法生成public和key，然后将public上传到服务器，登录认证时，服务器端向客户端发送随机字符串，用户用自己的私钥加密后，再发回来。服务器用存储的公钥进行解密认证。

### 参考资料
- [维基百科](https://zh.wikipedia.org/wiki/Secure_Shell)
- [ATC Training](https://zsw.gitbooks.io/atc-training/content/ssh.html)
- [Telnet、SSH 原理](https://www.chenshaowen.com/telnet-ssh-key/)
